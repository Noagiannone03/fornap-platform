<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rejoindre FORNAP - Votre aventure commence ici</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    
    <!-- GSAP pour animations professionnelles -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- CSS sp√©cifique √† la page -->
    <link rel="stylesheet" href="../assets/css/payment.css">
    <link rel="stylesheet" href="../assets/css/qr-scanner.css">
</head>
<body>
    <!-- Placeholder pour la navbar - sera remplac√©e par le composant -->
    <div id="navbar-placeholder"></div>

    <!-- ========================================
         BARRE DE PROGRESSION FIXE
         ======================================== -->
    <div class="progress-container-fixed">
        <div class="container">
            <div class="journey-progress">
                <div class="progress-track">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-indicators">
                    <div class="progress-indicator completed" id="step1" data-step="1">
                        <div class="indicator-circle">1</div>
                        <span class="indicator-label">Bienvenue</span>
                    </div>
                    <div class="progress-indicator" id="step2" data-step="2">
                        <div class="indicator-circle">2</div>
                        <span class="indicator-label">Inscription</span>
                    </div>
                    <div class="progress-indicator" id="step3" data-step="3">
                        <div class="indicator-circle">3</div>
                        <span class="indicator-label">Forfait</span>
                    </div>
                    <div class="progress-indicator" id="step4" data-step="4">
                        <div class="indicator-circle">4</div>
                        <span class="indicator-label">Paiement</span>
                    </div>
                    <div class="progress-indicator" id="step5" data-step="5">
                        <div class="indicator-circle">5</div>
                        <span class="indicator-label">Bienvenue</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         CONTENU PRINCIPAL
         ======================================== -->
    <main class="main-content">
        
        <!-- Section Accueil / Bienvenue -->
        <section id="welcomeSection" class="journey-section active">
            <div class="container">
                <div class="welcome-hero">
                    <div class="welcome-content">
                        <h1 class="hero-title">
                            Vous √™tes pr√™t √† rejoindre<br>
                            <span class="hero-highlight">la communaut√© FORNAP</span> ?
                        </h1>
                        
                        <p class="hero-subtitle">
                            Participez √† un tiers lieu culturel unique o√π cr√©ativit√©, 
                            innovation et collaboration se rencontrent.
                        </p>

                        <div class="hero-features">
                            <div class="feature-chip">
                                <span class="chip-icon">üè¢</span>
                                <span>Espace culturel vivant</span>
                    </div>
                            <div class="feature-chip">
                                <span class="chip-icon">ü§ù</span>
                                <span>Communaut√© bienveillante</span>
                    </div>
                            <div class="feature-chip">
                                <span class="chip-icon">üöÄ</span>
                                <span>Projets collaboratifs</span>
                    </div>
                        </div>

                        <div class="hero-actions">
                            <button class="btn btn-primary btn-large btn-cta" onclick="startJourney()">
                                Cr√©er mon compte membre
                            </button>
                            
                            <button class="btn btn-primary btn-large btn-cta" onclick="showQRScanner()">
                                J'ai d√©j√† un QR code
                            </button>
                            
                            <div class="secondary-actions">
                                <button class="btn btn-link btn-small" onclick="showLoginForm()">
                                    J'ai d√©j√† un compte
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Connexion -->
        <section id="loginSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    <div class="form-header">
                        <h2>Bon retour parmi nous !</h2>
                        <p>Connectez-vous √† votre compte membre FORNAP</p>
                    </div>

                    <div class="form-content">
                        <div class="form-field">
                            <label for="loginEmail">Adresse email</label>
                            <input type="email" id="loginEmail" class="form-input" placeholder="votre@email.com" required>
                        </div>
                        
                        <div class="form-field">
                            <label for="loginPassword">Mot de passe</label>
                            <input type="password" id="loginPassword" class="form-input" placeholder="Votre mot de passe" required>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="backToWelcome()">
                            Retour
                        </button>
                        <button class="btn btn-primary" onclick="handleLogin()">
                            Se connecter
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Scan QR Code -->
        <section id="qrScanSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    <div class="form-header">
                        <h2>Scanner votre QR code FORNAP</h2>
                        <p>Uploadez une photo de votre QR code d'ancien membre</p>
                    </div>

                    <div class="form-content">
                        <div class="qr-upload-zone" id="qrUploadZone">
                            <div class="upload-visual">
                                <div class="upload-icon">üì∑</div>
                                <h4>Choisissez une photo de votre QR code</h4>
                                <p>Formats accept√©s: JPG, PNG</p>
                            </div>
                            
                            <input type="file" id="qrFileInput" accept="image/*" class="hidden">
                            
                            <div class="upload-preview" id="uploadPreview" style="display: none;">
                                <img id="previewImage" alt="Aper√ßu QR code">
                                <button class="btn btn-outline btn-small" onclick="resetQRUpload()">
                                    Changer d'image
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="backToWelcome()">
                            Retour
                        </button>
                        <button class="btn btn-primary" onclick="processQRCode()" disabled id="processQRBtn">
                            Scanner le QR code
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Cr√©ation mot de passe ancien membre -->
        <section id="legacyPasswordSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    <div class="form-header">
                        <h2 id="legacyWelcomeTitle">Bon retour parmi nous !</h2>
                        <p id="legacyWelcomeMessage">Cr√©ez votre mot de passe pour acc√©der √† votre compte</p>
                    </div>

                    <div class="member-info-card" id="memberInfoCard">
                        <!-- Informations du membre seront affich√©es ici -->
                    </div>

                    <div class="form-content">
                        <div class="form-field">
                            <label for="legacyPassword">Cr√©er un mot de passe</label>
                            <input type="password" id="legacyPassword" class="form-input" 
                                   placeholder="Minimum 6 caract√®res" minlength="6" required>
                        </div>
                        
                        <div class="form-field">
                            <label for="legacyPasswordConfirm">Confirmer le mot de passe</label>
                            <input type="password" id="legacyPasswordConfirm" class="form-input" 
                                   placeholder="Retapez votre mot de passe" required>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="backToQRScan()">
                            Retour
                        </button>
                        <button class="btn btn-primary" onclick="createLegacyAccount()" disabled id="createLegacyBtn">
                            Cr√©er mon compte
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Membre actif retrouv√© -->
        <section id="activeMemberSection" class="journey-section hidden">
            <div class="container">
                <div class="success-container">
                    <div class="success-visual">
                        <div class="success-icon">üéâ</div>
                    </div>

                    <div class="success-content">
                        <h1>Heureux de vous revoir !</h1>
                        <p class="success-subtitle">
                            Vous avez √©t√© parmi les premiers √† rejoindre l'aventure FORNAP
                        </p>

                        <div class="welcome-back-info">
                            <div class="info-card">
                                <h3>Votre statut membre</h3>
                                <div class="status-badge active">
                                    ‚úÖ Abonnement actif
                                </div>
                                <p id="membershipDetails">
                                    <!-- D√©tails de l'abonnement -->
                                </p>
                            </div>
                        </div>

                        <div class="project-evolution">
                            <h3>D√©couvrez la nouvelle plateforme</h3>
                            <p>Nous avons √©volu√© ! D√©couvrez toutes les nouveaut√©s de la plateforme FORNAP et compl√©tez votre profil pour profiter pleinement de l'exp√©rience.</p>
                        </div>

                        <button class="btn btn-primary btn-large" onclick="completeActiveMemberProfile()">
                            D√©couvrir les nouveaut√©s
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Membre expir√© -->
        <section id="expiredMemberSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    <div class="form-header">
                        <h2>Bon retour parmi nous !</h2>
                        <p>Votre ancien abonnement a expir√©, mais nous sommes ravis de vous revoir</p>
                    </div>

                    <div class="expired-member-info">
                        <div class="info-card warning">
                            <h3>Statut de votre abonnement</h3>
                            <div class="status-badge expired">
                                ‚è∞ Abonnement expir√©
                            </div>
                            <p id="expiredMembershipDetails">
                                <!-- D√©tails de l'ancien abonnement -->
                            </p>
                        </div>
                    </div>

                    <div class="renewal-offer">
                        <h3>Renouvelez votre aventure FORNAP</h3>
                        <p>Choisissez un nouveau forfait pour continuer √† profiter de la communaut√© et des nouveaux services de la plateforme.</p>
                    </div>

                    <div class="form-actions">
                        <button class="btn btn-primary btn-large" onclick="renewExpiredMembership()">
                            Choisir un nouveau forfait
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Inscription -->
        <section id="signupSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    
                    <!-- √âtape 1: Pr√©nom -->
                    <div class="signup-step active" id="signupStep1" data-step="1">
                        <div class="form-header">
                            <h2>Comment vous appelez-vous ?</h2>
                            <p>Commen√ßons par faire connaissance</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="signupFirstName">Votre pr√©nom</label>
                                <input type="text" id="signupFirstName" class="form-input form-input-large" 
                                       placeholder="Jean" required autocomplete="given-name">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="backToWelcome()">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextSignupStep(2)" disabled id="nextBtn1">
                                Continuer
                            </button>
                                </div>
                                </div>

                    <!-- √âtape 2: Nom -->
                    <div class="signup-step" id="signupStep2" data-step="2">
                        <div class="form-header">
                            <h2>Et votre nom de famille ?</h2>
                            <p>Pour compl√©ter votre identit√© membre</p>
                            </div>
                            
                        <div class="form-content">
                            <div class="form-field">
                                <label for="signupLastName">Votre nom</label>
                                <input type="text" id="signupLastName" class="form-input form-input-large" 
                                       placeholder="Dupont" required autocomplete="family-name">
                            </div>
                            </div>
                            
                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousSignupStep(1)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextSignupStep(3)" disabled id="nextBtn2">
                                Continuer
                            </button>
                        </div>
                    </div>

                    <!-- √âtape 3: Email -->
                    <div class="signup-step" id="signupStep3" data-step="3">
                        <div class="form-header">
                            <h2>Votre adresse email ?</h2>
                            <p>Pour vous tenir inform√© des nouveaut√©s FORNAP</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="signupEmail">Adresse email</label>
                                <input type="email" id="signupEmail" class="form-input form-input-large" 
                                       placeholder="votre@email.com" required autocomplete="email">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousSignupStep(2)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextSignupStep(4)" disabled id="nextBtn3">
                                Continuer
                            </button>
                        </div>
                    </div>

                                        <!-- √âtape 4: Num√©ro de t√©l√©phone -->
                    <div class="signup-step" id="signupStep4" data-step="4">
                        <div class="form-header">
                            <h2>Votre num√©ro de t√©l√©phone ?</h2>
                            <p>Pour vous contacter en cas de besoin</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="signupPhone">Num√©ro de t√©l√©phone</label>
                                <input type="tel" id="signupPhone" class="form-input form-input-large" 
                                       placeholder="06 12 34 56 78" required autocomplete="tel">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousSignupStep(3)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextSignupStep(5)" disabled id="nextBtn4">
                                Continuer
                            </button>
                        </div>
                    </div>

                    <!-- √âtape 5: Mot de passe -->
                    <div class="signup-step" id="signupStep5" data-step="5">
                        <div class="form-header">
                            <h2>Cr√©ez votre mot de passe</h2>
                            <p>Minimum 6 caract√®res pour s√©curiser votre compte</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="signupPassword">Mot de passe</label>
                                <input type="password" id="signupPassword" class="form-input form-input-large" 
                                       placeholder="Minimum 6 caract√®res" required minlength="6">
                            </div>
                            
                            <div class="form-field">
                                <label for="signupConfirmPassword">Confirmer le mot de passe</label>
                                <input type="password" id="signupConfirmPassword" class="form-input form-input-large" 
                                       placeholder="Retapez votre mot de passe" required>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousSignupStep(4)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="createAccount()" disabled id="nextBtn5">
                                Cr√©er mon compte
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Choix forfait -->
        <section id="planSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container plan-selection-container">
                    <div class="form-header">
                        <h2>Choisissez votre forfait membre</h2>
                        <p>S√©lectionnez l'adh√©sion qui correspond √† vos besoins</p>
                        </div>

                                        <div class="plans-showcase">
                        <div class="plan-option" data-plan="mensuel" onclick="selectPlan('mensuel')">
                            <div class="plan-header">
                                <h3>Membre Mensuel</h3>
                                <p class="plan-description">Parfait pour d√©couvrir FORNAP</p>
                                <div class="plan-pricing">
                                    <span class="price">12</span>
                                    <span class="currency">‚Ç¨/mois</span>
                                </div>
                            </div>
                            <div class="plan-benefits">
                                <div class="benefit">‚úì Acc√®s au lieu en journ√©e (9h-19h)</div>
                                <div class="benefit">‚úì R√©ductions boutique (-10%)</div>
                                <div class="benefit">‚úì R√©servation espaces coworking</div>
                                <div class="benefit">‚úì Participation aux √©v√©nements</div>
                                <div class="benefit">‚úì Acc√®s WiFi haut d√©bit</div>
                                <div class="benefit">‚úì Caf√©/th√© √† volont√©</div>
                            </div>
                        </div>

                        <div class="plan-option featured" data-plan="annuel" onclick="selectPlan('annuel')">
                            <div class="plan-badge">Recommand√©</div>
                            <div class="plan-header">
                                <h3>Membre Annuel</h3>
                                <p class="plan-description">Le meilleur rapport qualit√©-prix</p>
                                <div class="plan-pricing">
                                    <span class="price">12</span>
                                    <span class="currency">‚Ç¨/an</span>
                                </div>
                            </div>
                            <div class="plan-benefits">
                                <div class="benefit">‚úì Tout du membre mensuel</div>
                                <div class="benefit exclusive">‚≠ê Programme de fid√©lit√© exclusif</div>
                                <div class="benefit exclusive">‚≠ê Acc√®s anticip√©s aux √©v√©nements</div>
                                <div class="benefit exclusive">‚≠ê R√©ductions suppl√©mentaires (-20%)</div>
                                <div class="benefit exclusive">‚≠ê Avantages VIP et cadeaux</div>
                                <div class="benefit exclusive">‚≠ê Invit√© gratuit aux √©v√©nements</div>
                            </div>
                            <div class="plan-savings">
                                √âconomisez 132‚Ç¨ par an !
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </section>

        <!-- Section Paiement -->
        <section id="paymentSection" class="journey-section hidden">
            <div class="container">
                <div class="payment-layout">
                    
                    <!-- R√©sum√© commande -->
                    <div class="order-summary-sidebar">
                        <div class="summary-card">
                            <h3>Votre forfait</h3>
                            <div id="selectedPlanDisplay">
                                <!-- Forfait s√©lectionn√© affich√© ici -->
                            </div>
                            <button class="btn btn-outline btn-small" onclick="backToPlanSelection()">
                                Modifier le forfait
                            </button>
                        </div>
                        </div>

                    <!-- Formulaire paiement -->
                    <div class="payment-form-area">
                        <div class="form-header">
                            <h2>Finalisons votre adh√©sion</h2>
                            <p>Derni√®re √©tape avant de rejoindre la communaut√©</p>
                            <div class="demo-badge">
                                Mode D√©mo - Simulation de paiement
                            </div>
                        </div>

                        <div class="payment-methods">
                            <h4>M√©thode de paiement</h4>
                            <div class="method-selector">
                                <label class="payment-method active" data-method="card">
                                    <input type="radio" name="paymentMethod" value="card" checked>
                                    <div class="method-content">
                                        <span class="method-icon">üí≥</span>
                                        <span class="method-name">Carte bancaire</span>
                                    </div>
                                </label>
                                <label class="payment-method" data-method="paypal">
                                    <input type="radio" name="paymentMethod" value="paypal">
                                    <div class="method-content">
                                        <span class="method-icon">üÖøÔ∏è</span>
                                        <span class="method-name">PayPal</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="card-form" id="cardForm">
                            <div class="form-field">
                                <label for="cardNumber">Num√©ro de carte</label>
                                <input type="text" id="cardNumber" class="form-input" placeholder="1234 5678 9012 3456" maxlength="19">
                            </div>
                            
                            <div class="form-row">
                                <div class="form-field">
                                    <label for="expiryDate">Expiration</label>
                                    <input type="text" id="expiryDate" class="form-input" placeholder="MM/AA" maxlength="5">
                                </div>
                                <div class="form-field">
                                    <label for="cvv">CVV</label>
                                    <input type="text" id="cvv" class="form-input" placeholder="123" maxlength="4">
                                </div>
                            </div>
                            
                            <div class="form-field">
                                <label for="cardName">Nom sur la carte</label>
                                <input type="text" id="cardName" class="form-input" placeholder="Jean Dupont">
                            </div>
                        </div>

                        <div class="terms-agreement">
                            <label class="checkbox-field">
                                <input type="checkbox" id="acceptTerms" required>
                                <span class="checkbox-mark"></span>
                                <span class="checkbox-label">
                                    J'accepte les <a href="#" target="_blank">conditions g√©n√©rales</a> 
                                    et la <a href="#" target="_blank">politique de confidentialit√©</a>
                                </span>
                            </label>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-primary btn-large btn-full" onclick="processPayment()">
                                Finaliser l'adh√©sion
                                    </button>
                                </div>
                            </div>
                        </div>
            </div>
        </section>

        <!-- Section F√©licitations -->
        <section id="congratulationsSection" class="journey-section hidden">
            <div class="container">
                <div class="success-container">
                    <div class="success-visual">
                        <div class="success-icon" id="successIcon">‚úì</div>
                    </div>

                    <div class="success-content">
                        <h1>F√©licitations !</h1>
                        <p class="success-subtitle">
                            Vous faites maintenant partie du projet FORNAP
                        </p>

                        <div class="project-intro">
                            <h3>Faisons un tour d'horizon du projet</h3>
                            
                            <div class="intro-features">
                                <div class="intro-feature">
                                    <div class="feature-visual">üè¢</div>
                                    <div class="feature-details">
                                        <h4>Votre nouveau tiers lieu</h4>
                                        <p>Un espace de 500m¬≤ d√©di√© √† la cr√©ativit√©, au coworking et aux √©v√©nements culturels</p>
                            </div>
                        </div>

                                <div class="intro-feature">
                                    <div class="feature-visual">ü§ù</div>
                                    <div class="feature-details">
                                        <h4>Une communaut√© dynamique</h4>
                                        <p>Plus de 200 membres actifs : entrepreneurs, artistes, d√©veloppeurs, cr√©atifs...</p>
                                    </div>
                                </div>
                                
                                <div class="intro-feature">
                                    <div class="feature-visual">üé®</div>
                                    <div class="feature-details">
                                        <h4>Projets collaboratifs</h4>
                                        <p>Participez √† des hackathons, expositions, concerts et workshops cr√©atifs</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary btn-large" onclick="startGettingToKnow()">
                            Faisons connaissance
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Questions de connaissance -->
        <section id="gettingToKnowSection" class="journey-section hidden">
            <div class="container">
                <div class="form-container">
                    
                    <!-- Question 1: Ville -->
                    <div class="know-step active" id="knowStep1" data-step="1">
                        <div class="form-header">
                            <h2>Dans quelle ville √™tes-vous bas√© ?</h2>
                            <p>Pour mieux comprendre notre communaut√©</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="userCity">Votre ville</label>
                                <input type="text" id="userCity" class="form-input form-input-large" 
                                       placeholder="Paris, Lyon, Marseille..." autocomplete="address-level2">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-primary" onclick="nextKnowStep(2)" disabled id="knowNextBtn1">
                                Continuer
                            </button>
                        </div>
                    </div>

                    <!-- Question 2: Motivation -->
                    <div class="know-step" id="knowStep2" data-step="2">
                        <div class="form-header">
                            <h2>Qu'est-ce qui vous a motiv√© √† rejoindre FORNAP ?</h2>
                            <p>Votre motivation nous aide √† am√©liorer notre projet</p>
                        </div>

                        <div class="form-content">
                            <div class="choice-grid">
                                <label class="choice-option" data-value="coworking">
                                    <input type="radio" name="motivation" value="coworking">
                                    <div class="choice-content">
                                        <span class="choice-icon">üíº</span>
                                        <span class="choice-text">Espace de coworking inspirant</span>
                                    </div>
                            </label>
                            
                                <label class="choice-option" data-value="community">
                                    <input type="radio" name="motivation" value="community">
                                    <div class="choice-content">
                                        <span class="choice-icon">ü§ù</span>
                                        <span class="choice-text">Rencontrer d'autres cr√©atifs</span>
                                    </div>
                            </label>
                                
                                <label class="choice-option" data-value="events">
                                    <input type="radio" name="motivation" value="events">
                                    <div class="choice-content">
                                        <span class="choice-icon">üé≠</span>
                                        <span class="choice-text">√âv√©nements culturels uniques</span>
                        </div>
                                </label>
                                
                                <label class="choice-option" data-value="projects">
                                    <input type="radio" name="motivation" value="projects">
                                    <div class="choice-content">
                                        <span class="choice-icon">üöÄ</span>
                                        <span class="choice-text">Projets collaboratifs</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousKnowStep(1)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextKnowStep(3)" disabled id="knowNextBtn2">
                                Continuer
                            </button>
                        </div>
                    </div>

                    <!-- Question 3: Profession -->
                    <div class="know-step" id="knowStep3" data-step="3">
                        <div class="form-header">
                            <h2>Quelle est votre profession ?</h2>
                            <p>Pour mieux comprendre notre communaut√©</p>
                        </div>

                        <div class="form-content">
                            <div class="form-field">
                                <label for="userProfession">Votre profession</label>
                                <input type="text" id="userProfession" class="form-input form-input-large" 
                                       placeholder="D√©veloppeur, Designer, Entrepreneur..." autocomplete="organization-title">
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousKnowStep(2)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="nextKnowStep(4)" disabled id="knowNextBtn3">
                                Continuer
                            </button>
                        </div>
                    </div>

                    <!-- Question 4: D√©couverte -->
                    <div class="know-step" id="knowStep4" data-step="4">
                        <div class="form-header">
                            <h2>Comment avez-vous entendu parler de nous ?</h2>
                            <p>Cela nous aide √† mieux communiquer avec de futurs membres</p>
                        </div>

                        <div class="form-content">
                            <div class="choice-grid">
                                <label class="choice-option" data-value="social">
                                    <input type="radio" name="discovery" value="social">
                                    <div class="choice-content">
                                        <span class="choice-icon">üì±</span>
                                        <span class="choice-text">R√©seaux sociaux</span>
                                    </div>
                                </label>
                                
                                <label class="choice-option" data-value="friend">
                                    <input type="radio" name="discovery" value="friend">
                                    <div class="choice-content">
                                        <span class="choice-icon">üë•</span>
                                        <span class="choice-text">Recommandation d'un ami</span>
                                    </div>
                                </label>
                                
                                <label class="choice-option" data-value="search">
                                    <input type="radio" name="discovery" value="search">
                                    <div class="choice-content">
                                        <span class="choice-icon">üîç</span>
                                        <span class="choice-text">Recherche Google</span>
                                    </div>
                                </label>
                                
                                <label class="choice-option" data-value="event">
                                    <input type="radio" name="discovery" value="event">
                                    <div class="choice-content">
                                        <span class="choice-icon">üé™</span>
                                        <span class="choice-text">√âv√©nement local</span>
                                    </div>
                                </label>
                                
                                <label class="choice-option" data-value="other">
                                    <input type="radio" name="discovery" value="other">
                                    <div class="choice-content">
                                        <span class="choice-icon">üí°</span>
                                        <span class="choice-text">Autre</span>
                                    </div>
                                </label>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn btn-secondary" onclick="previousKnowStep(3)">
                                Retour
                            </button>
                            <button class="btn btn-primary" onclick="finalizeOnboarding()" disabled id="knowNextBtn4">
                                C'est parti !
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Finale -->
        <section id="finalSection" class="journey-section hidden">
            <div class="container">
                <div class="final-container">
                    <div class="final-visual">
                        <div class="final-icon" id="finalIcon">üéâ</div>
                    </div>

                    <div class="final-content">
                        <h1>Bienvenue dans le projet FORNAP !</h1>
                        <p class="final-subtitle">
                            Votre aventure cr√©ative et collaborative commence maintenant.
                            Votre dashboard membre vous attend avec toutes vos ressources.
                        </p>

                        <div class="next-steps">
                            <div class="step-item">
                                <span class="step-icon">üìß</span>
                                <div class="step-info">
                                    <strong>Email de confirmation envoy√©</strong>
                                    <p>V√©rifiez votre bo√Æte mail pour votre carte membre virtuelle</p>
                                </div>
                            </div>
                            
                            <div class="step-item">
                                <span class="step-icon">üì±</span>
                                <div class="step-info">
                                    <strong>Application mobile</strong>
                                    <p>T√©l√©chargez l'app FORNAP pour un acc√®s facile (bient√¥t disponible)</p>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn-primary btn-large btn-cta" onclick="goToDashboard()">
                            Commencer mon exp√©rience FORNAP
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Placeholder pour le footer - sera remplac√© par le composant -->
    <div id="footer-placeholder"></div>

    <!-- ========================================
         MODAL DE CHARGEMENT
         ======================================== -->
    <div id="loadingModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-dialog">
        <div class="modal-content">
                <div class="loading-spinner"></div>
                <h3 id="loadingTitle">Traitement en cours...</h3>
                <p id="loadingMessage">Veuillez patienter</p>
                <div class="loading-progress">
                    <div class="progress-step" id="loadingStep1">‚úì Cr√©ation du compte</div>
                    <div class="progress-step" id="loadingStep2">üîÑ Traitement du paiement</div>
                    <div class="progress-step" id="loadingStep3">üìÑ Configuration du profil</div>
                    <div class="progress-step" id="loadingStep4">üéâ Finalisation</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         CONTAINER MESSAGES
         ======================================== -->
    <div id="messageContainer"></div>

    <!-- ========================================
         SCRIPTS FIREBASE
         ======================================== -->
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore-compat.js"></script>

    <!-- ========================================
         MODULES FORNAP
         ======================================== -->
    <script src="../assets/js/config.js?v=4"></script>
    <script src="../assets/js/utils.js?v=4"></script>
    <script src="../assets/js/auth-service.js?v=4"></script>
    <script src="../assets/js/components.js?v=4"></script>
    <script src="../assets/js/qr-scanner-service.js?v=4"></script>
    <script src="../assets/js/journey-utils.js?v=4"></script>
    <script src="../assets/js/qr-journey.js?v=4"></script>

    <!-- ========================================
         JAVASCRIPT PRINCIPAL
         ======================================== -->
    <script src="../assets/js/payment.js"></script>


</body>
</html> 